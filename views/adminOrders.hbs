<!DOCTYPE html>
<html lang="en">
<head>
  <title>All Orders</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    {{> navbar }}
  <div class="container mt-4">
    <h2>All Orders</h2>
    {{#if orders.length}}
      <ul class="list-group">
        {{#each orders}}
          <li class="list-group-item">
            <h5>Order #{{this._id}}</h5>
            <ul>
              {{#each this.items}}
                <li>{{this.product.name}} (x{{this.quantity}})</li>
              {{/each}}
            </ul>
            <p>Total: ${{this.total}}</p>
            <p>Status: {{this.status}}</p>
            <form action="/admin/orders/{{this._id}}" method="POST">
              <select name="status" class="form-control mb-2" style="width: auto;">
                <option value="Pending">Pending</option>
                <option value="Shipped">Shipped</option>
                <option value="Delivered">Delivered</option>
                <option value="Cancelled">Cancelled</option>
              </select>
              <button type="submit" class="btn btn-primary btn-sm">Update Status</button>
            </form>
          </li>
        {{/each}}
      </ul>
    {{else}}
      <p>No orders found.</p>
    {{/if}}
  </div>

  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
